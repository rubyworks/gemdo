<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Class: POM::Project</title>

  
    <link rel="SHORTCUT ICON" href="../../assets/icon/class.png">
  

  <link type="text/css" rel="stylesheet" href="../../assets/rdoc.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="../../assets/highlight/styles/github.css" title="GitHub" />

  <script type="text/javascript" charset="utf-8" src="../../assets/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../assets/highlight/highlight.pack.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../assets/quicksearch.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../assets/main.js"></script>

  <script type="text/javascript">
    $(document).ready( function() {
      hookHighlightSyntax();
	    hookSourceViews();
	    hookDebuggingToggle();
	    hookQuickSearch();
	    highlightLocationTarget();

	    $('ul.link-list a').bind("click", highlightClickTarget);
    });
  </script>
</head>
<body class="class">
<div id="main">

  <div class="head">
    <h1>
      
        <img src="../../assets/icon/class.png" align="absmiddle">&nbsp;
      
      <a href="../../index.html">POM</a>&nbsp;
      <a href="/">POM::Project</a>
    </h1>
  </div>

  <div id="metadata">
    <div id="project-metadata">

      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li class="file"><a href="../../files/lib/pom/project_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/pom/project.rb">lib/pom/project.rb</a></li>
          
            <li class="file"><a href="../../files/lib/pom/models/gemspec_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/pom/models/gemspec.rb">lib/pom/models/gemspec.rb</a></li>
          
          </ul>
        </div>
      </div>

      <!-- What about Git info, or Hg info? This seems almost silly, albeit kind of cool. -->
      <!-- TODO: generalize this for all SCMs -->

      
    </div>

    <div id="class-metadata">

      <!-- Parent Class -->
      
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        <ul>
          
          <li class="class">Object</li>
          
        </ul>
      </div>
      

      <!-- Namespace Contents -->
      

      <!-- Method Quickref -->
      
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
            
            <li class="singleton">
              <a href="#M000017">::load</a>
            </li>
          
            
            <li class="singleton">
              <a href="#M000013">::lookup</a>
            </li>
          
            
            <li class="singleton">
              <a href="#M000020">::new</a>
            </li>
          
            
            <li class="singleton">
              <a href="#M000010">::root</a>
            </li>
          
            
            <li class="method">
              <a href="#M000045">#about</a>
            </li>
          
            
            <li class="method">
              <a href="#M000049">#announcement</a>
            </li>
          
            
            <li class="method">
              <a href="#M000035">#cache</a>
            </li>
          
            
            <li class="method">
              <a href="#M000036">#config</a>
            </li>
          
            
            <li class="method">
              <a href="#M000032">#doc</a>
            </li>
          
            
            <li class="method">
              <a href="#M000026">#history</a>
            </li>
          
            
            <li class="method">
              <a href="#M000030">#log</a>
            </li>
          
            
            <li class="method">
              <a href="#M000025">#manifest</a>
            </li>
          
            
            <li class="method">
              <a href="#M000029">#manifest_file</a>
            </li>
          
            
            <li class="method">
              <a href="#M000024">#metadata</a>
            </li>
          
            
            <li class="method">
              <a href="#M000033">#pack</a>
            </li>
          
            
            <li class="method">
              <a href="#M000034">#pkg</a>
            </li>
          
            
            <li class="method">
              <a href="#M000037">#plug</a>
            </li>
          
            
            <li class="method">
              <a href="#M000038">#plugin</a>
            </li>
          
            
            <li class="method">
              <a href="#M000027">#release</a>
            </li>
          
            
            <li class="method">
              <a href="#M000058">#require_rubygems</a>
            </li>
          
            
            <li class="method">
              <a href="#M000039">#script</a>
            </li>
          
            
            <li class="method">
              <a href="#M000041">#site</a>
            </li>
          
            
            <li class="method">
              <a href="#M000040">#task</a>
            </li>
          
            
            <li class="method">
              <a href="#M000043">#tmp</a>
            </li>
          
            
            <li class="method">
              <a href="#M000044">#tmpdir</a>
            </li>
          
            
            <li class="method">
              <a href="#M000059">#to_gemspec</a>
            </li>
          
        </ul>
      </div>
      

      <!-- Included Modules -->
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Information</h3>
        <ul>
        
          <li class="file"><a href="../../files/HISTORY.html">HISTORY</a></li>
        
          <li class="file"><a href="../../files/COPYING.html">COPYING</a></li>
        
          <li class="file"><a href="../../files/README.html">README</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="../../assets/icon/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <!-- classpage.html : classes -->
        <ul class="link-list">
        
          <li class="module"><a href="../../classes/POM.html">POM</a></li>
        
          <li class="class"><a href="../../classes/POM/Command.html">POM::Command</a></li>
        
          <li class="module"><a href="../../classes/POM/Commands.html">POM::Commands</a></li>
        
          <li class="class"><a href="../../classes/POM/Commands/About.html">POM::Commands::About</a></li>
        
          <li class="class"><a href="../../classes/POM/Commands/Dump.html">POM::Commands::Dump</a></li>
        
          <li class="class"><a href="../../classes/POM/Commands/Gemspec.html">POM::Commands::Gemspec</a></li>
        
          <li class="class"><a href="../../classes/POM/Commands/Init.html">POM::Commands::Init</a></li>
        
          <li class="class"><a href="../../classes/POM/Commands/Show.html">POM::Commands::Show</a></li>
        
          <li class="class"><a href="../../classes/POM/DebCtrl.html">POM::DebCtrl</a></li>
        
          <li class="class"><a href="../../classes/POM/History.html">POM::History</a></li>
        
          <li class="class"><a href="../../classes/POM/History/Release.html">POM::History::Release</a></li>
        
          <li class="class"><a href="../../classes/POM/Manifest.html">POM::Manifest</a></li>
        
          <li class="class"><a href="../../classes/POM/Metadata.html">POM::Metadata</a></li>
        
          <li class="class"><a href="../../classes/POM/Project.html">POM::Project</a></li>
        
          <li class="class"><a href="../../classes/POM/Readme.html">POM::Readme</a></li>
        
          <li class="class"><a href="../../classes/POM/Release.html">POM::Release</a></li>
        
          <li class="class"><a href="../../classes/Pathname.html">Pathname</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>
    </div>

    <div id="validator-badges">
      
      <div style="float: right; margin-right: 5px;">
        <a href="http://validator.w3.org/check/referer"><img src="../../assets/icon/check.png" alt="[Validate]" height="16" width="16" /></a>
      </div>
      Generated with <a href="http://github.com/proutils/webri">WebRI Redfish</a> 1.0.0
      <br/><br/>
    </div>
  </div>

  <div id="documentation">

    <div id="description">
      
        <h1>Project</h1>
      

      <p>
The <a href="Project.html">Project</a> class provides the location of
specific directories and files in the project, plus access to the projects
metadata, etc.
</p>

    </div>

    <!-- Constants -->
    
    <div id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt><a name="README">README</a></dt>
        
        <dd class="description"><p>
File glob for matching <a href="Project.html#README">README</a> file.
</p></dd>
        
      
      </dl>
    </div>
    

    <!-- Attributes -->
    
    <div id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="root-attribute-method" class="method-detail">
        <a name="root"></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">root</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>
Project&#8217;s root location. By default this is determined by scanning up
from the current working directory in search of the ROOT_INDICATOR.
</p>
        
        </div>
      </div>
      
      <div id="source-attribute-method" class="method-detail">
        <a name="source"></a>
        
        <div class="method-heading attribute-method-heading">
          <span class="method-name">source</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>
Location of project source code. Currently, this is always the same as the
root.
</p>
<p>
TODO: Support alternate source location in the future verison?
</p>
        
        </div>
      </div>
      
    </div>
    

    <!-- Methods -->
    
    <div id="public-class-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="load-method" class="method-detail ">
        <a name="M000017"></a>

        <div class="method-heading">
        
          <span class="method-name">load</span><span
            class="method-args">(*path_opts)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
New project with metadata fully loaded.
</p>
          

          
          <div class="method-source-code"
            id="load-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 37</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">path_opts</span>)
      <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path_opts</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Hash</span><span class="ruby-operator">===</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">path_opts</span>.<span class="ruby-identifier">last</span>
      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:load</span>] = <span class="ruby-keyword kw">true</span>
      <span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">opts</span>)
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="lookup-method" class="method-detail ">
        <a name="M000013"></a>

        <div class="method-heading">
        
          <span class="method-name">lookup</span><span
            class="method-args">(*path_opts)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Instantiate a new <a href="Project.html">Project</a> looking up the root
directory form a given local.
</p>
<pre>
  Project.lookup(local)
</pre>
          

          
          <div class="method-source-code"
            id="lookup-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 29</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">lookup</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">path_opts</span>)
      <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path_opts</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Hash</span><span class="ruby-operator">===</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">path_opts</span>.<span class="ruby-identifier">last</span>
      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:lookup</span>] =<span class="ruby-keyword kw">true</span>
      <span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">opts</span>)
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="new-method" class="method-detail ">
        <a name="M000020"></a>

        <div class="method-heading">
        
          <span class="method-callseq">new()
new(root)
new(local, :lookup=>true)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Instantiate a new project.
</p>
<p>
If a root directory is not given, it will be looked-up starting from the
current working directory until a <tt>meta/</tt> directory is found.
</p>
<p>
The <tt>:lookup</tt> option can be used to induce a lookup from a given
location.
</p>
          

          
          <div class="method-source-code"
            id="new-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 56</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">root_opts</span>)
      <span class="ruby-identifier">root</span> = <span class="ruby-identifier">root_opts</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Hash</span><span class="ruby-operator">===</span><span class="ruby-identifier">root_opts</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">root_opts</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">||</span> {}

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:lookup</span>] <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">root</span>
        <span class="ruby-identifier">root</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">root</span>(<span class="ruby-identifier">root</span>)
        <span class="ruby-identifier">raise</span>(<span class="ruby-node">&quot;cannot locate project root -- #{root}&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">root</span>
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-ivar">@root</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">root</span>)

      <span class="ruby-comment cmt">#metadata.load #if opts[:load]</span>

      <span class="ruby-comment cmt">#if options[:lookup]</span>
      <span class="ruby-comment cmt">#  @root = locate_root(local) || raise(&quot;can't locate project root -- #{local}&quot;)</span>
      <span class="ruby-comment cmt">#end</span>

      <span class="ruby-comment cmt"># TODO: Support alternate source directory (?)</span>
      <span class="ruby-ivar">@source</span> = <span class="ruby-identifier">root</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="root-method" class="method-detail ">
        <a name="M000010"></a>

        <div class="method-heading">
        
          <span class="method-name">root</span><span
            class="method-args">(local=Dir.pwd)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Locate the project&#8217;s root directory. See POM::root.
</p>
          

          
          <div class="method-source-code"
            id="root-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 20</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">root</span>(<span class="ruby-identifier">local</span>=<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>)
      <span class="ruby-constant">POM</span>.<span class="ruby-identifier">root</span>(<span class="ruby-identifier">local</span>)
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
    </div>
  
    <div id="public-instance-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="about-method" class="method-detail ">
        <a name="M000045"></a>

        <div class="method-heading">
        
          <span class="method-name">about</span><span
            class="method-args">(*parts)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
About project notice.
</p>
          

          
          <div class="method-source-code"
            id="about-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 304</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">about</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">parts</span>)
      <span class="ruby-comment cmt"># pre-format data</span>
      <span class="ruby-identifier">released</span> = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">released</span> <span class="ruby-value">? </span><span class="ruby-node">&quot;(#{metadata.released.strftime('%Y-%m-%d')})&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-comment cmt">#puts</span>
        <span class="ruby-comment cmt">#puts &quot;  #{metadata.title} #{metadata.version} (#{metadata.released})&quot;</span>
        <span class="ruby-comment cmt">#puts</span>
        <span class="ruby-comment cmt">#puts &quot;  #{metadata.abstract}&quot;</span>
        <span class="ruby-comment cmt">#puts &quot;  &quot; + metadata.homepage</span>
        <span class="ruby-comment cmt">#puts</span>
        <span class="ruby-comment cmt">#puts</span>
        <span class="ruby-comment cmt">#puts &quot;  Copyright #{metadata.copyright}&quot;</span>
        <span class="ruby-comment cmt">#puts</span>
        <span class="ruby-identifier">s</span> = []
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{metadata.title} v#{metadata.version} #{released}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{metadata.description || metadata.summary}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  contact    : #{metadata.contact}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  homepage   : #{metadata.homepage}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  repository : #{metadata.repository}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  authors    : #{metadata.authors.join(',')}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  package    : #{metadata.name}-#{metadata.version}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  requires   : #{metadata.requires.join(',')}&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&quot;</span>
        <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{metadata.copyright}&quot;</span>
        <span class="ruby-identifier">s</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">field</span>
          <span class="ruby-comment cmt">#when 'settings'</span>
          <span class="ruby-comment cmt">#  y settings</span>
          <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'metadata'</span>
            <span class="ruby-identifier">y</span> <span class="ruby-identifier">metadata</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-identifier">puts</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">field</span>)
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="announcement-method" class="method-detail ">
        <a name="M000049"></a>

        <div class="method-heading">
        
          <span class="method-name">announcement</span><span
            class="method-args">(file=nil, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
<a href="Project.html">Project</a> release announcement built on <a
href="Project.html#README">README</a>.
</p>
<p>
TODO: Don&#8217;t use <a href="Project.html#README">README</a>, or make it
an option.
</p>
          

          
          <div class="method-source-code"
            id="announcement-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 350</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">announcement</span>(<span class="ruby-identifier">file</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={})
      <span class="ruby-identifier">header</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:header</span>]

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">file</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">file</span>, <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">FNM_CASEFOLD</span>).<span class="ruby-identifier">first</span>
        <span class="ruby-identifier">ann</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">file</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">release</span> = <span class="ruby-identifier">history</span>.<span class="ruby-identifier">release</span>.<span class="ruby-identifier">to_s</span>

        <span class="ruby-identifier">ann</span> = []
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">file</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-constant">README</span>, <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">FNM_CASEFOLD</span>).<span class="ruby-identifier">first</span>
          <span class="ruby-identifier">readme</span>  = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">file</span>).<span class="ruby-identifier">strip</span>
          <span class="ruby-identifier">readme</span>  = <span class="ruby-identifier">readme</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;Please see HISTORY file.&quot;</span>, <span class="ruby-value str">'='</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">release</span>)
          <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">readme</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">header</span>
            <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{metadata.title} #{metadata.version} has been released.&quot;</span>
            <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">''</span>
            <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;* #{metadata.homepage}&quot;</span>
            <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">''</span>
            <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{metadata.description}&quot;</span>
            <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">''</span>
          <span class="ruby-keyword kw">end</span>
          <span class="ruby-identifier">ann</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">release</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">ann</span> = <span class="ruby-identifier">ann</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">ann</span>.<span class="ruby-identifier">unfold</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="cache-method" class="method-detail ">
        <a name="M000035"></a>

        <div class="method-heading">
        
          <span class="method-name">cache</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The <tt>.cache/</tt> directory is used by build tools to store temporary
files. For instance, the <tt>pom</tt> command uses it to store backups of
metadata entries when overwriting old entries. <tt>.cache/</tt> should be
in your SCM&#8217;s ignore list.
</p>
<p>
Get pathname of given cache <tt>path</tt>. Or without <tt>path</tt> returns
the pathname for the cache directory.
</p>
          

          
          <div class="method-source-code"
            id="cache-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 193</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">cache</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@cache</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span><span class="ruby-operator">+</span><span class="ruby-value str">'.cache'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="config-method" class="method-detail ">
        <a name="M000036"></a>

        <div class="method-heading">
        
          <span class="method-name">config</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The <tt>.config/</tt> or <tt>config</tt> directory is a place for build
tools to place their configration files.
</p>
<p>
<a href="../Pathname.html">Pathname</a> of given config <tt>path</tt>. Or
without <tt>path</tt> Returns the path to the config directory (either
<tt>.config</tt> or <tt>config</tt>).
</p>
          

          
          <div class="method-source-code"
            id="config-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 208</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">config</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span> <span class="ruby-comment cmt">#root.glob_first('{.,}config' / path)</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@config</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value str">'{.,}config'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">root</span><span class="ruby-operator">+</span><span class="ruby-value str">'.config'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="doc-method" class="method-detail ">
        <a name="M000032"></a>

        <div class="method-heading">
        
          <span class="method-name">doc</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The doc directory is the place to keep documentation. The directory is
intended to be distributed with a package, but this is not often done these
days since RubyGems generates RDocs on demand, and documentation is often
found online.
</p>
<p>
Get pathname of given doc <tt>path</tt>. Or without <tt>path</tt> returns
the pathname for the doc directory.
</p>
          

          
          <div class="method-source-code"
            id="doc-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 155</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doc</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">doc</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@doc</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span><span class="ruby-operator">+</span><span class="ruby-value str">'doc'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="history-method" class="method-detail ">
        <a name="M000026"></a>

        <div class="method-heading">
        
          <span class="method-name">history</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Access to project history.
</p>
          

          
          <div class="method-source-code"
            id="history-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 91</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">history</span>
      <span class="ruby-ivar">@history</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">History</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">root</span>)
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="log-method" class="method-detail ">
        <a name="M000030"></a>

        <div class="method-heading">
        
          <span class="method-name">log</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The <tt>log/</tt> directory stores log output created by build tools.
</p>
<p>
Get pathname of given log <tt>path</tt>. Or without <tt>path</tt> returns
the pathname for the log directory.
</p>
          

          
          <div class="method-source-code"
            id="log-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 133</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">log</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@log</span> <span class="ruby-operator">||=</span> (
          <span class="ruby-comment cmt">#if (site + 'log').directory?</span>
          <span class="ruby-comment cmt">#  site + log</span>
          <span class="ruby-comment cmt">#else</span>
            <span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'log'</span>
          <span class="ruby-comment cmt">#end</span>
        )
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="manifest-method" class="method-detail ">
        <a name="M000025"></a>

        <div class="method-heading">
        
          <span class="method-name">manifest</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
<a href="Project.html">Project</a> manifest.
</p>
          

          
          <div class="method-source-code"
            id="manifest-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 85</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">manifest</span>
      <span class="ruby-ivar">@manifest</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Manifest</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">root</span>)
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="manifest-file-method" class="method-detail ">
        <a name="M000029"></a>

        <div class="method-heading">
        
          <span class="method-name">manifest_file</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
<a href="Project.html">Project</a> manifest file name.
</p>
<p>
TODO: Deprecate in favor of using manifest.file ?
</p>
          

          
          <div class="method-source-code"
            id="manifest-file-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 106</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">manifest_file</span>
      <span class="ruby-ivar">@manifest_file</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value str">'manifest{,.txt}'</span>, <span class="ruby-identifier">:casefold</span>)
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="metadata-method" class="method-detail ">
        <a name="M000024"></a>

        <div class="method-heading">
        
          <span class="method-name">metadata</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
<a href="Metadata.html">Metadata</a> provides all the general information
about the project.
</p>
          

          
          <div class="method-source-code"
            id="metadata-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 79</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">metadata</span>
      <span class="ruby-ivar">@metadata</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Metadata</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">root</span>).<span class="ruby-identifier">load</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="pack-method" class="method-detail ">
        <a name="M000033"></a>

        <div class="method-heading">
        
          <span class="method-name">pack</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Get pathname of given plugin <tt>path</tt>. Or without <tt>path</tt>
returns the pathname for the package directory.
</p>
<p>
This is aliaed as <a href="Project.html#M000034">pkg</a>.
</p>
          

          
          <div class="method-source-code"
            id="pack-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 168</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pack</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">pack</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@pack</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value str">'{pkg,pack,package}{,s}'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'pkg'</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-comment cmt">#@pkg ||=(</span>
      <span class="ruby-comment cmt">#  dir = root.glob_first('{pack,pkg}{,s}') || 'pack'</span>
      <span class="ruby-comment cmt">#  dir.mkdir_p unless dir.exist?</span>
      <span class="ruby-comment cmt">#  dir</span>
      <span class="ruby-comment cmt">#)</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Project.html#M000034">pkg</a>
        </div>
        
      </div>

    
      <div id="pkg-method" class="method-detail method-alias">
        <a name="M000034"></a>

        <div class="method-heading">
        
          <span class="method-name">pkg</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Project.html#M000033">pack</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="plug-method" class="method-detail ">
        <a name="M000037"></a>

        <div class="method-heading">
        
          <span class="method-name">plug</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The <tt>plug/</tt> directory serves the same purpose as the <tt>lib/</tt>
directory. It simply provides a place to put plugins separate from the main
<tt>lib/</tt> files.
</p>
<p>
Get pathname of given plugin <tt>path</tt>. Or without <tt>path</tt>
returns the pathname for the plugin directory.
</p>
          

          
          <div class="method-source-code"
            id="plug-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 223</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plug</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">plug</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@plug</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value str">'plug{,in,ins}'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">root</span><span class="ruby-operator">+</span><span class="ruby-value str">'plug'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Project.html#M000038">plugin</a>
        </div>
        
      </div>

    
      <div id="plugin-method" class="method-detail method-alias">
        <a name="M000038"></a>

        <div class="method-heading">
        
          <span class="method-name">plugin</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Project.html#M000037">plug</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="release-method" class="method-detail ">
        <a name="M000027"></a>

        <div class="method-heading">
        
          <span class="method-name">release</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Access latest release notes.
</p>
          

          
          <div class="method-source-code"
            id="release-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 97</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">release</span>
      <span class="ruby-ivar">@release</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Release</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">root</span>, <span class="ruby-identifier">history</span>)
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="require-rubygems-method" class="method-detail ">
        <a name="M000058"></a>

        <div class="method-heading">
        
          <span class="method-name">require_rubygems</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Require RubyGems library.
</p>
          

          
          <div class="method-source-code"
            id="require-rubygems-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/models/gemspec.rb, line 7</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">require_rubygems</span>
      <span class="ruby-keyword kw">begin</span>
        <span class="ruby-identifier">require</span> <span class="ruby-value str">'rubygems/specification'</span>
        <span class="ruby-comment cmt">#::Gem::manage_gems</span>
      <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">LoadError</span>, <span class="ruby-value str">&quot;RubyGems is not installed.&quot;</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="script-method" class="method-detail ">
        <a name="M000039"></a>

        <div class="method-heading">
        
          <span class="method-name">script</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The <tt>script/</tt> directory is like the <tt>task/</tt> directory but
usually holds executables that are made available to the end-installers.
</p>
<p>
Get pathname of given script <tt>path</tt>. Or without <tt>path</tt>
returns the pathname for the script directory.
</p>
          

          
          <div class="method-source-code"
            id="script-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 241</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">script</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">script</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@script</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span><span class="ruby-operator">+</span><span class="ruby-value str">'script'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="site-method" class="method-detail ">
        <a name="M000041"></a>

        <div class="method-heading">
        
          <span class="method-name">site</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The <tt>site/</tt> directory (also web/ or website/) is where a
project&#8217;s website is stored.
</p>
<p>
Get pathname of given site <tt>path</tt>. Or without <tt>path</tt> returns
the pathname for the site directory.
</p>
          

          
          <div class="method-source-code"
            id="site-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 269</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">site</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">site</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@site</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value str">'{site,web,website}'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">root</span><span class="ruby-operator">+</span><span class="ruby-value str">'site'</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-comment cmt">#@pkg ||=(</span>
      <span class="ruby-comment cmt">#  dir = root.glob_first('{pack,pkg}{,s}') || 'pack'</span>
      <span class="ruby-comment cmt">#  dir.mkdir_p unless dir.exist?</span>
      <span class="ruby-comment cmt">#  dir</span>
      <span class="ruby-comment cmt">#)</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="task-method" class="method-detail ">
        <a name="M000040"></a>

        <div class="method-heading">
        
          <span class="method-name">task</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The <tt>task/</tt> directory is where task scripts are stored used by build
tools, such as Rake and Syckle.
</p>
<p>
Get pathname of given task <tt>path</tt>. Or without <tt>path</tt> returns
the pathname for the task directory.
</p>
          

          
          <div class="method-source-code"
            id="task-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 255</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">task</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">task</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@task</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">first</span>(<span class="ruby-value str">'{task,tasks}'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">root</span><span class="ruby-operator">+</span><span class="ruby-value str">'task'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="tmp-method" class="method-detail ">
        <a name="M000043"></a>

        <div class="method-heading">
        
          <span class="method-name">tmp</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Not strickly a project directory. THis provides a temporary system location
outside the project directory.
</p>
<p>
Get pathname of given temporary <tt>path</tt>. Or without <tt>path</tt>
returns the pathname to the temporary directory.
</p>
<p>
TODO: Add name to end of path ?
</p>
          

          
          <div class="method-source-code"
            id="tmp-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/project.rb, line 290</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tmp</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">tmp</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@tmp</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">tmpdir</span>) <span class="ruby-comment cmt">#cache+'tmp'</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Project.html#M000044">tmpdir</a>
        </div>
        
      </div>

    
      <div id="tmpdir-method" class="method-detail method-alias">
        <a name="M000044"></a>

        <div class="method-heading">
        
          <span class="method-name">tmpdir</span><span
            class="method-args">(path=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Project.html#M000043">tmp</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="to-gemspec-method" class="method-detail ">
        <a name="M000059"></a>

        <div class="method-heading">
        
          <span class="method-name">to_gemspec</span><span
            class="method-args">(options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Create a Gem::Specification
</p>
<p>
NOTE: This would be a method of METADATA except that it needs the manifest
list, which is in <a href="Project.html">Project</a>. Perhaps this
indicates that the <a href="Manifest.html">Manifest</a> should be a part of
the <a href="Metadata.html">Metadata</a>?
</p>
          

          
          <div class="method-source-code"
            id="to-gemspec-source">
<pre>
<span class="ruby-comment cmt"># File lib/pom/models/gemspec.rb, line 22</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_gemspec</span>(<span class="ruby-identifier">options</span>={})
      <span class="ruby-identifier">require_rubygems</span>

      <span class="ruby-comment cmt"># FIXME: this only works b/c of package staging</span>
      <span class="ruby-comment cmt">#distribute = Dir.glob('**/*')</span>
      <span class="ruby-comment cmt">#distribute = project.filelist</span>
      <span class="ruby-comment cmt">#distribute = manifest #.files</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">md</span> = <span class="ruby-regexp re">/(\w+).rubyforge.org/</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">homepage</span>)
        <span class="ruby-identifier">rubyforge_project</span> = <span class="ruby-identifier">md</span>[<span class="ruby-value">1</span>]
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">rubyforge_project</span> = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">name</span>  <span class="ruby-comment cmt"># b/c it has to be something according to Eric Hodel.</span>
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-operator">::</span><span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>          = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">name</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">version</span>       = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">version</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">summary</span>       = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">summary</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">description</span>   = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">description</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">authors</span>       = [<span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">authors</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">uniq</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">email</span>         = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">contact</span> <span class="ruby-comment cmt">#metadata.email</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">homepage</span>      = <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">homepage</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">require_paths</span> = [<span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">loadpath</span>].<span class="ruby-identifier">flatten</span>

        <span class="ruby-comment cmt"># -- platform --</span>

        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">platform</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:platform</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">platform</span>  <span class="ruby-comment cmt">#'ruby' ???</span>
        <span class="ruby-comment cmt">#if metadata.platform != 'ruby'</span>
        <span class="ruby-comment cmt">#  spec.require_paths.concat(spec.require_paths.collect{ |d| File.join(d, platform) })</span>
        <span class="ruby-comment cmt">#end</span>

        <span class="ruby-comment cmt"># -- rubyforge project --</span>

        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">rubyforge_project</span> = <span class="ruby-identifier">rubyforge_project</span>

        <span class="ruby-comment cmt"># -- compiled extensions --</span>

        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">extensions</span> = [<span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">extensions</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>

        <span class="ruby-comment cmt"># -- dependencies --</span>

        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">requires</span>
          <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">requires</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">d</span>,<span class="ruby-identifier">v</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/\s+/</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
            <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">add_dependency</span>(<span class="ruby-operator">*</span>[<span class="ruby-identifier">d</span>,<span class="ruby-identifier">v</span>].<span class="ruby-identifier">compact</span>)
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>

        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">requirements</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:requirements</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">notes</span>

        <span class="ruby-comment cmt"># -- executables --</span>

        <span class="ruby-comment cmt"># TODO: bin/ is a POM convention, is there are reason to do otherwise?</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">bindir</span>      = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:bindir</span>]      <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;bin&quot;</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">executables</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:executables</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">executables</span>

        <span class="ruby-comment cmt"># -- rdocs (argh!) --</span>

        <span class="ruby-identifier">readme</span> = <span class="ruby-identifier">root</span>.<span class="ruby-identifier">glob_relative</span>(<span class="ruby-value str">'README{,.txt}'</span>, <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">FNM_CASEFOLD</span>).<span class="ruby-identifier">first</span>

        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">has_rdoc</span> = <span class="ruby-keyword kw">true</span>  <span class="ruby-comment cmt"># always true</span>

        <span class="ruby-identifier">extra_rdoc_files</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_rdoc_files</span>] <span class="ruby-operator">||</span> (<span class="ruby-identifier">root</span>.<span class="ruby-identifier">glob_relative</span>(<span class="ruby-value str">'[A-Z]*'</span>) <span class="ruby-operator">||</span> []).<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">to_s</span> }

        <span class="ruby-identifier">rdocfiles</span> = []
        <span class="ruby-identifier">rdocfiles</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">readme</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">readme</span>
        <span class="ruby-identifier">rdocfiles</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">extra_rdoc_files</span>)
        <span class="ruby-identifier">rdocfiles</span>.<span class="ruby-identifier">uniq!</span>

        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">extra_rdoc_files</span> = <span class="ruby-identifier">rdocfiles</span>

        <span class="ruby-identifier">rdoc_options</span> = [] <span class="ruby-comment cmt">#['--inline-source']</span>
        <span class="ruby-identifier">rdoc_options</span>.<span class="ruby-identifier">concat</span> [<span class="ruby-value str">&quot;--title&quot;</span>, <span class="ruby-node">&quot;#{metadata.title} API&quot;</span>] <span class="ruby-comment cmt">#if metadata.title</span>
        <span class="ruby-identifier">rdoc_options</span>.<span class="ruby-identifier">concat</span> [<span class="ruby-value str">&quot;--main&quot;</span>, <span class="ruby-identifier">readme</span>.<span class="ruby-identifier">to_s</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">readme</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">rdoc_options</span> = <span class="ruby-identifier">rdoc_options</span>

        <span class="ruby-comment cmt"># -- distributed files --</span>

        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">manifest</span>.<span class="ruby-identifier">exist?</span>
          <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span> = <span class="ruby-identifier">manifest</span>.<span class="ruby-identifier">select</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">f</span>) }          
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">files</span> = <span class="ruby-identifier">root</span>.<span class="ruby-identifier">glob_relative</span>(<span class="ruby-value str">&quot;**/*&quot;</span>).<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">to_s</span> } <span class="ruby-comment cmt"># metadata.distribute ?</span>
        <span class="ruby-keyword kw">end</span>

        <span class="ruby-comment cmt"># -- test files --</span>

        <span class="ruby-comment cmt"># TODO: Improve. Make test_files configurable (?)</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">test_files</span> = <span class="ruby-identifier">manifest</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">f</span>) <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/test/</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">f</span>) <span class="ruby-operator">==</span> <span class="ruby-value str">'.rb'</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>

    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
    </div>
  

  </div>


  <div id="rdoc-debugging-section-dump" class="debugging-section">
  
    <p>Disabled; run with --debug to generate this.</p>
  
  </div>

</main>
</body>
</html>

